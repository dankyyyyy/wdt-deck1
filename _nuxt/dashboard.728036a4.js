import{_ as y,o as i,c as f,d as T,p as $,e as R,a as d,z as H,B as N,x as b,r as D,b as x,A as W,F as A,s as I,u as L}from"./entry.03847b27.js";import{u as B,_ as F}from"./FilterStore.34eab582.js";import{C as K,p as G,_ as V,a as O}from"./Remove.4f333355.js";import{s as q,m as Y,y as k,d as j,b as E,w as z,e as Z,_ as J}from"./Filters.ea3b1ec5.js";import{u as p}from"./ChartStore.b77e04aa.js";import{b as P,c as C}from"./WindTurbineGeneratorStore.eb0d735d.js";import{f as S}from"./chartUtils.2ab73b6e.js";import{A as M}from"./AgGridVue.b108ccb3.js";import{u as Q}from"./WeatherdataStore.c8d5cae7.js";import"./Logo.cc0f74b4.js";import"./nuxt-link.891a4dd6.js";const U={},X=e=>($("data-v-9d9ed1e9"),e=e(),R(),e),ee={class:"loading-container"},te=X(()=>d("label",{class:"generic-header"},"Loading...",-1));function se(e,a){return i(),f("div",ee,[te,T("... ")])}const ae=y(U,[["render",se],["__scopeId","data-v-9d9ed1e9"]]);K.register(G);const re={props:{filterParams:{startHour:Number,endHour:Number,startMonth:Number,endMonth:Number,years:Number,chartId:Number}},setup(e){const a=p(),m=P();m.getSelectedPreset()!=null&&H(()=>{const t=m.getSelectedPreset().assets,s=[];for(let c=0;c<t.length;c++){q(e.filterParams.startHour,e.filterParams.endHour,e.filterParams.startMonth,e.filterParams.endMonth,e.filterParams.years,t[c]);const n=t[c];s[n.name]=Y(a.wdtData[n.name],e.filterParams.startMonth,e.filterParams.endMonth)}const r=[];for(const c in s)r.push({label:c,data:s[c].slice(e.filterParams.startMonth-1,e.filterParams.endMonth),borderRadius:10});new K(document.getElementById("wdtChart"+e.filterParams.chartId),{type:"bar",data:{labels:a.wdtLabels.slice(e.filterParams.startMonth-1,e.filterParams.endMonth),datasets:r},options:{maintainAspectRatio:!1,plugins:{colors:{enabled:!0},tooltip:{enabled:!0,callbacks:{label:c=>{const n=c.dataset.label,l=c.raw;return`${n}: ${l}%`}}}},scales:{y:{beginAtZero:!0}}}})})}},oe={class:"deck-frame-white"},ne=["id"];function le(e,a,m,o,t,s){return i(),f("div",oe,[d("canvas",{id:"wdtChart"+m.filterParams.chartId,class:"chart-canvas"},null,8,ne)])}const ie=y(re,[["render",le]]),ce={name:"YearlyCommitmentTable",components:{AgGridVue:M},props:{filterParams:{startHour:Number,endHour:Number,startMonth:Number,endMonth:Number,years:Number,tableKey:Boolean}},setup(e){const a=()=>{const t=p(),s=P(),r=[];if(s.getSelectedPreset()!=null){const n=s.getSelectedPreset().assets;for(let l=0;l<n.length;l++){const u=n[l],h=n[l].team,_=k(t.wdtData[u.name],e.filterParams.startMonth,e.filterParams.endMonth),g={AssetName:u.name,YearlyCommitment:`${S(j(u,h,_,e.filterParams.startMonth,e.filterParams.endMonth))}€`};r.push(g)}return r}},m=p().yearlyCommitmentTableLabels.map(t=>({headerName:t,field:t.replace(/ /g,""),width:165})),o=a();return{columnDefs:m,rowData:o}}};function de(e,a,m,o,t,s){const r=N("ag-grid-vue");return i(),b(r,{class:"ag-theme-alpine dashboard-table",columnDefs:o.columnDefs,rowData:o.rowData},null,8,["columnDefs","rowData"])}const me=y(ce,[["render",de]]),ue={name:"AssetWorkabilityTable",components:{AgGridVue:M},props:{filterParams:{startHour:Number,endHour:Number,startMonth:Number,endMonth:Number,years:Number,tableKey:Boolean}},setup(e){const a=()=>{const t=p(),s=P(),r=[];if(s.getSelectedPreset()!=null){const n=s.getSelectedPreset().assets;for(let l=0;l<n.length;l++){const u=n[l],h=n[l].team,_=k(t.wdtData[u.name],e.filterParams.startMonth,e.filterParams.endMonth),g={AssetName:u.name,AnnualAvailability:`${E(h,_,e.filterParams.startMonth,e.filterParams.endMonth)} hours`};r.push(g)}return r}},m=p().assetAvailabilityTableLabels.map(t=>({headerName:t,field:t.replace(/ /g,""),width:165})),o=a();return{columnDefs:m,rowData:o}}};function he(e,a,m,o,t,s){const r=N("ag-grid-vue");return i(),b(r,{class:"ag-theme-alpine dashboard-table",columnDefs:o.columnDefs,rowData:o.rowData},null,8,["columnDefs","rowData"])}const _e=y(ue,[["render",he]]),fe={name:"wdtTable",components:{AgGridVue:M},props:{filterParams:{startHour:Number,endHour:Number,startMonth:Number,endMonth:Number,years:Number,tableKey:Boolean}},setup(e){const a=()=>{const t=p(),s=P(),r=[];if(s.getSelectedPreset()!=null){const n=s.getSelectedPreset().assets;for(let l=0;l<n.length;l++){const u=n[l],h=k(t.wdtData[u.name],e.filterParams.startMonth,e.filterParams.endMonth),_={AssetName:u.name,AnnualWorkability:h};r.push(_)}return r}},m=p().wdtTableLabels.map(t=>({headerName:t,field:t.replace(/ /g,""),width:165,valueFormatter:s=>{if(s.colDef.field==="AnnualWorkability")return(s.value*100).toFixed(0)+"%"}})),o=a();return{columnDefs:m,rowData:o}}};function be(e,a,m,o,t,s){const r=N("ag-grid-vue");return i(),b(r,{class:"ag-theme-alpine dashboard-table",columnDefs:o.columnDefs,rowData:o.rowData},null,8,["columnDefs","rowData"])}const pe=y(fe,[["render",be]]),ge={name:"PricePerWtgTable",components:{AgGridVue:M},props:{filterParams:{startHour:Number,endHour:Number,startMonth:Number,endMonth:Number,years:Number,tableKey:Boolean}},setup(e){const a=()=>{const t=p(),s=P(),r=[];if(s.getSelectedPreset()!=null){const c=s.getSelectedPreset(),n=c.assets,l=c.location;for(let u=0;u<n.length;u++){const h=n[u],_=n[u].team,g=k(t.wdtData[h.name],e.filterParams.startMonth,e.filterParams.endMonth),w={AssetName:h.name,PriceperWTG:`${S(z(h,_,l,g,e.filterParams.startMonth,e.filterParams.endMonth))}€`};r.push(w)}return r}},m=p().perWTGLabels.map(t=>({headerName:t,field:t.replace(/ /g,""),width:165})),o=a();return{columnDefs:m,rowData:o}}};function ye(e,a,m,o,t,s){const r=N("ag-grid-vue");return i(),b(r,{class:"ag-theme-alpine dashboard-table",columnDefs:o.columnDefs,rowData:o.rowData},null,8,["columnDefs","rowData"])}const Pe=y(ge,[["render",ye]]),we={name:"pricePerReqWrkHrTable",components:{AgGridVue:M},props:{filterParams:{startHour:Number,endHour:Number,startMonth:Number,endMonth:Number,years:Number,tableKey:Boolean}},setup(e){const a=()=>{const t=p(),s=P(),r=[];if(s.getSelectedPreset()!=null){const c=s.getSelectedPreset(),n=c.assets,l=c.wtg,u=c.location;for(let h=0;h<n.length;h++){const _=n[h],g=k(t.wdtData[_.name],e.filterParams.startMonth,e.filterParams.endMonth),w={AssetName:_.name,PriceperWRKHR:`${S(Z(_,l,u,g,e.filterParams.startMonth,e.filterParams.endMonth))}€`};r.push(w)}return r}},m=p().perWRKHRLabels.map(t=>({headerName:t,field:t.replace(/ /g,""),width:165})),o=a();return{columnDefs:m,rowData:o}}};function ve(e,a,m,o,t,s){const r=N("ag-grid-vue");return i(),b(r,{class:"ag-theme-alpine dashboard-table",columnDefs:o.columnDefs,rowData:o.rowData},null,8,["columnDefs","rowData"])}const De=y(we,[["render",ve]]),xe={layout:"default",name:"WeatherDownTime",props:{chartId:Number,amountOfCharts:Number},data(e){return{wdtChartKey:!1,tableKey:!1,showComponents:!0,filterParams:{startHour:D(0),endHour:D(23),startMonth:D(1),endMonth:D(12),years:D(10),chartId:e.chartId},loading:C().loading}},methods:{handleApplyChanges(e){this.filterParams.startHour=e.startHour,this.filterParams.endHour=e.endHour,this.filterParams.startMonth=e.startMonth,this.filterParams.endMonth=e.endMonth,this.filterParams.years=e.years,this.wdtChartKey=!this.wdtChartKey,this.tableKey=!this.tableKey},emitRemove(){this.$emit("remove",this.chartId)},hideToggle(){this.showComponents=!this.showComponents}}},Ne={key:0,class:"w-full flex relative"},ke={class:"w-4/5 p-3"},Me={class:"flex text-lg justify-between w-full py-5"},Ce={class:"flex gap-1.5 items-center hover:text-gray-400 group hover:translate-y-[-3px] transition-all ease-in-out cursor-pointer"},Se={key:0},Ke=W('<section class="flex items-center justify-center h-full w-full"><div class="h-20 w-20 mr-10 rounded-full bg-blue-300 animate-pulse"></div><div class="h-20 w-20 mr-10 rounded-full bg-blue-300 animate-pulse"></div><div class="h-20 w-20 mr-10 rounded-full bg-blue-300 animate-pulse"></div><div class="h-20 w-20 mr-10 rounded-full bg-blue-300 animate-pulse"></div><div class="h-20 w-20 rounded-full bg-blue-300 animate-pulse"></div></section>',1),Te=[Ke],$e={key:1},Re={class:"p-3"},He={class:"table-container summary-layout"},We={style:{display:"flex"}},Ae={style:{display:"flex","margin-top":"2rem"}},Ie={class:"w-1/5 h-full p-3"},Le={class:"flex flex-row-reverse text-lg w-full py-5"},Be={key:0,class:"flex gap-1.5 flex-row-reverse items-center hover:text-gray-400 group hover:translate-y-[-3px] transition-all ease-in-out cursor-pointer"},Fe={key:1,class:"h-[28px]"},Ge={key:1,class:"py-10"},Ve={class:"flex gap-1.5 p-3 items-center hover:text-gray-400 group hover:translate-y-[-3px] transition-all ease-in-out cursor-pointer"};function Oe(e,a,m,o,t,s){const r=V,c=ie,n=me,l=_e,u=pe,h=Pe,_=De,g=O,w=J;return t.showComponents?(i(),f("div",Ne,[d("div",ke,[d("div",Me,[d("div",Ce,[x(r,{class:"stroke-1 group-hover:text-yellow-400"}),d("p",{class:"text-decoration font-semibold",onClick:a[0]||(a[0]=(...v)=>s.hideToggle&&s.hideToggle(...v))},"Hide")])]),t.loading?(i(),f("div",Se,Te)):(i(),f("div",$e,[d("div",Re,[(i(),b(c,{key:t.wdtChartKey,filterParams:t.filterParams},null,8,["filterParams"]))]),d("div",He,[d("div",We,[(i(),b(n,{key:t.tableKey,filterParams:t.filterParams},null,8,["filterParams"])),(i(),b(l,{key:t.tableKey,filterParams:t.filterParams},null,8,["filterParams"])),(i(),b(u,{key:t.tableKey,filterParams:t.filterParams},null,8,["filterParams"]))]),d("div",Ae,[(i(),b(h,{key:t.tableKey,filterParams:t.filterParams},null,8,["filterParams"])),(i(),b(_,{key:t.tableKey,filterParams:t.filterParams},null,8,["filterParams"]))])])]))]),d("div",Ie,[d("div",Le,[this.amountOfCharts>1?(i(),f("div",Be,[x(g,{class:"stroke-1 group-hover:text-red-400"}),d("p",{class:"text-decoration font-semibold",onClick:a[1]||(a[1]=(...v)=>s.emitRemove&&s.emitRemove(...v))}," Remove ")])):(i(),f("div",Fe))]),x(w,{onButtonClick:s.handleApplyChanges,filterProps:t.filterParams},null,8,["onButtonClick","filterProps"])])])):(i(),f("div",Ge,[d("div",Ve,[x(r,{class:"stroke-1 group-hover:text-yellow-400"}),d("p",{class:"text-decoration",onClick:a[2]||(a[2]=(...v)=>s.hideToggle&&s.hideToggle(...v))},"Show graph...")])]))}const qe=y(xe,[["render",Oe]]),Ye={layout:"default",name:"Dashboard",data(){return{loading:!0,ids:[],chartKey:!1,tableKey:!1}},async mounted(){this.ids.push(1),await this.startChart(),await this.startTables(),this.toggleChartKey(),this.toggleTableKey(),this.loading=!1},fetch(){return this.startChart()},methods:{addGraph(){this.ids.push(this.ids[this.ids.length-1]+1)},handleRemove(e){this.ids.length!==1&&(this.ids=this.ids.filter(a=>a!==e))},toggleChartKey(){this.chartKey=!this.chartKey},async startChart(){const a=P().getSelectedPreset().location;B().hideRecommendation=!1,C().toggleLoading(),this.$emit("loading"),await Q().getByLocationId(a._id),C().toggleLoading(),this.$emit("loading"),this.loading=!1},async startTables(){},toggleTableKey(){this.tableKey=!this.tableKey}}},je={key:1},Ee={class:"flex"},ze={class:"sidebar-container p-5 h-screen"},Ze={class:"h-full deck-frame-translucent-w-sidebar inline-block"},Je=d("div",{class:"heading-container"},[d("h1",{class:"generic-header"},"Dashboard")],-1),Qe={class:"flex flex-col"},Ue={class:"w-full p-3"};function Xe(e,a,m,o,t,s){const r=ae,c=F,n=qe;return i(),f("div",null,[t.loading?(i(),b(r,{key:0})):(i(),f("div",je,[d("div",Ee,[d("div",ze,[x(c)]),d("div",Ze,[Je,d("div",Qe,[(i(!0),f(A,null,I(t.ids,l=>(i(),f("div",{key:l},[(i(),b(n,{key:t.chartKey,tableKey:t.tableKey,onRemove:s.handleRemove,chartId:l,amountOfCharts:t.ids.length},null,8,["tableKey","onRemove","chartId","amountOfCharts"]))]))),128))]),d("div",Ue,[t.ids.length!==3?(i(),f("button",{key:0,type:"button",class:"w-full border-2 border-gray-400 rounded-full py-1 font-semibold text-xl text-gray-600",onClick:a[0]||(a[0]=(...l)=>s.addGraph&&s.addGraph(...l))}," Add more graphs ")):L("",!0)])])])]))])}const mt=y(Ye,[["render",Xe]]);export{mt as default};
