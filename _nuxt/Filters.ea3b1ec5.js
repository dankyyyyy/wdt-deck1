import{u as E}from"./WeatherdataStore.c8d5cae7.js";import{u as T}from"./ChartStore.b77e04aa.js";import"./WindTurbineGeneratorStore.eb0d735d.js";import{_ as V,r as P,o as M,c as w,a as i,n as f,v as d,t as F,u as W,p as O,e as Y}from"./entry.03847b27.js";function R(t,r,n){var s=0;for(let e=r;e<n;e++)s+=t[e];return s}function U(t,r,n){return(Math.abs(r-n)+1)*30-R(t,r,n)}function D(t,r,n){return 365-(Math.abs(r-n)+1)*30*t}function y(t,r,n){var s=Math.abs(r-n)+1;return s*30*t}function vt(t,r,n){const s=[];for(let e=r-1;e<n;e++)s[e]=Math.floor((30-t[e])/30*100);return s}function Ht(t,r,n){var s=Math.abs(r-n)+1;const e=U(t,r,n);return Math.floor(e/(s*30)*100)/100}function q(t,r,n,s){const e=t.numberOfPersons*t.shiftPeriod,a=y(r,n,s),o=e*a;return Math.floor(o)}function N(t,r){const n=r.wtg,s=t.plannedMaintenance,e=t.troubleshootVisits*t.averageTsHours,a=s+e;return n*a}function gt(t,r,n,s,e,a){const o=q(t,r,e,a),l=N(s,n),p=o-l;return Math.floor(p)}function Ct(t,r,n,s){return S(t,r,n,s)+B(t)}function j(t,r,n,s,e){return I(t,n,s,e)+A(r,n,s,e)}function I(t,r,n,s){const e=t.dayRate,a=D(r,n,s);return Math.round(e*a)}function A(t,r,n,s){const a=D(r,n,s),o=t.numberOfPersons;return Math.round(1500*a*o)}function S(t,r,n,s){return _(t,r,n,s)+L(t,r,n,s)}function B(t){return t.dayRate*365}function x(t){var r=0;if(t.category==="Vessel"){const n=t.loitering*t.loiteringFuelConsumption,s=t.highEngineActivity*t.operationalFuelConsumption;r=n+s}else t.category==="Helicopter"&&(r=t.operationalFuelConsumption*t.flightTime);return r}function _(t,r,n,s){const e=x(t),a=.75,o=y(r,n,s);return e*o*a}function Pt(t,r,n,s){const e=t.dayRate,a=y(r,n,s);return e*a}function $(t,r,n,s){var e=0;t.category==="Vessel"?e=.00273:t.category==="Helicopter"&&(e=.00255);const a=y(r,n,s),o=x(t)*a;return e*o}function L(t,r,n,s){return 42*$(t,r,n,s)}function Mt(t,r,n,s,e,a){const o=j(t,r,s,e,a),l=n.wtg;return o/l}function wt(t,r,n,s,e,a){const o=S(t,s,e,a),l=N(r,n);return o/l}const G=.5;let c=[],g=[],h=[],v,b,C;function Dt(t,r,n,s,e,a){const o=T(),l=E();n=n,s=s,v=1,b=1,C=0,h=[];const p=l.currentData;J(p),p.forEach(u=>{u.Year>=C-e+1&&(v===Number(u.Day)?Number(u.Hour)>=t&&Number(u.Hour)<=r&&H(a,u,!1):(H(a,u,!0),Number(u.Hour)>=t&&Number(u.Hour)<=r&&H(a,u,!1),v=Number(u.Day)),(b!=Number(u.Month)||Number(u.Month)===12&&Number(u.Day)===31&&Number(u.Hour)===r)&&(h=z(h,g,b,n,s),g=[],b=Number(u.Month)))});for(let u=0;u<12;u++)h[u]=h[u]/e;const k=a.name;o.wdtData[k]=h}function H(t,r,n){n?(g.push(c.filter(s=>s===1).length/c.length>=G?1:0),c=[]):t&&(t.category==="Vessel"?c.push(parseFloat(r.Sign[" wave height (Hs)"])>t.hs?1:0):t.category==="Helicopter"&&c.push(parseFloat(r.Visibility)<t.visibility||Number(r["VFR cloud"])===t.cloudbase?1:0))}function z(t,r,n,s,e){return n>=s&&n<=e&&(t[n-1]!=null?t[n-1]+=r.filter(a=>a===1).length:t[n-1]=r.filter(a=>a===1).length),t}function J(t){let r=0;for(const n of t)n.Year>r&&(r=n.Year);C=r}const K={props:{filterProps:{startHour:Number,endHour:Number,startMonth:Number,endMonth:Number,years:Number,chartId:Number}},data(t){return{filterParams:{startHour:t.filterProps.startHour,endHour:t.filterProps.endHour,startMonth:t.filterProps.startMonth,endMonth:t.filterProps.endMonth,years:t.filterProps.years},error:P(!1),errorMessage:P("Enter a valid input!"),showTooltip:!1}},methods:{emitButtonClick(){if(this.checkInput(),!this.error){const t={startHour:this.filterParams.startHour,endHour:this.filterParams.endHour,startMonth:this.filterParams.startMonth,endMonth:this.filterParams.endMonth,years:this.filterParams.years};this.$emit("buttonClick",t)}},checkInput(){this.$refs.inputStartHour.value<0||this.$refs.inputStartHour.value>23||this.$refs.inputEndHour.value<0||this.$refs.inputEndHour.value>23||Number(this.$refs.inputStartHour.value)>Number(this.$refs.inputEndHour.value)||Number(this.$refs.inputStartHour.value)%1!==0||Number(this.$refs.inputEndHour.value)%1!==0||this.$refs.inputEndHour.value===""||this.$refs.inputStartHour.value===""||this.$refs.inputStartMonth.value<1||this.$refs.inputStartMonth.value>12||this.$refs.inputEndMonth.value<1||this.$refs.inputEndMonth.value>12||Number(this.$refs.inputStartMonth.value)>Number(this.$refs.inputEndMonth.value)||Number(this.$refs.inputStartMonth.value)%1!==0||Number(this.$refs.inputEndMonth.value)%1!==0||this.$refs.inputStartMonth.value===""||this.$refs.inputEndMonth.value===""||this.$refs.inputYears.value<1||this.$refs.inputYears.value>23||Number(this.$refs.inputYears.value)%1!==0||this.$refs.inputYears.value===""?this.error=!0:this.error=!1}}},m=t=>(O("data-v-004a626e"),t=t(),Y(),t),Q={class:"flex wdt-filter-container"},X={class:"flex w-full h-full deck-frame-white"},Z=m(()=>i("h2",{class:"text-xl w-full font-semibold p-2"},"Filters",-1)),tt=m(()=>i("div",{class:"p-2 pt-4 w-full flex justify-between relative"},[i("label",{for:"startHour",class:"text-lg"},"Years of data: ")],-1)),rt={class:"p-2 flex w-full justify-around"},et={class:"range-slider"},nt=m(()=>i("svg",{width:"100%",height:"16"},null,-1)),ot=m(()=>i("div",{class:"p-2 pt-4 w-full flex justify-between relative"},[i("label",{for:"startHour",class:"text-lg"},"Working hours: ")],-1)),st={class:"p-2 flex w-full justify-around"},at={class:"range-slider"},it=m(()=>i("svg",{width:"100%",height:"16"},null,-1)),ut=m(()=>i("div",{class:"p-2 pt-4 w-full flex justify-between relative"},[i("label",{for:"startMonth",class:"text-lg"},"Months from-to: ")],-1)),lt={class:"p-2 pb-7 flex w-full justify-around"},ft={class:"range-slider"},dt=m(()=>i("svg",{width:"100%",height:"16"},null,-1)),mt={key:0,class:"text-red-600 w-full"};function pt(t,r,n,s,e,a){return M(),w("div",Q,[i("div",X,[Z,tt,i("div",rt,[i("div",et,[i("span",{onChange:r[1]||(r[1]=(...o)=>t.slider&&t.slider(...o))},[f(i("input",{"onUpdate:modelValue":r[0]||(r[0]=o=>e.filterParams.years=o),ref:"inputYears",id:"years",type:"number",min:"1",max:"23"},null,512),[[d,e.filterParams.years]])],32),f(i("input",{onChange:r[2]||(r[2]=(...o)=>t.slider&&t.slider(...o)),"onUpdate:modelValue":r[3]||(r[3]=o=>e.filterParams.years=o),ref:"inputYears",id:"years",min:"1",max:"23",step:"1",type:"range"},null,544),[[d,e.filterParams.years]]),nt])]),ot,i("div",st,[i("div",at,[i("span",{onChange:r[6]||(r[6]=(...o)=>t.slider&&t.slider(...o))},[f(i("input",{"onUpdate:modelValue":r[4]||(r[4]=o=>e.filterParams.startHour=o),ref:"inputStartHour",type:"number",min:"0",max:"23"},null,512),[[d,e.filterParams.startHour,void 0,{number:!0}]]),f(i("input",{"onUpdate:modelValue":r[5]||(r[5]=o=>e.filterParams.endHour=o),ref:"inputEndHour",type:"number",min:"0",max:"23"},null,512),[[d,e.filterParams.endHour,void 0,{number:!0}]])],32),f(i("input",{onChange:r[7]||(r[7]=(...o)=>t.slider&&t.slider(...o)),"onUpdate:modelValue":r[8]||(r[8]=o=>e.filterParams.startHour=o),ref:"inputStartHour",min:"0",max:"23",step:"1",type:"range"},null,544),[[d,e.filterParams.startHour,void 0,{number:!0}]]),f(i("input",{onChange:r[9]||(r[9]=(...o)=>t.slider&&t.slider(...o)),"onUpdate:modelValue":r[10]||(r[10]=o=>e.filterParams.endHour=o),ref:"inputEndHour",min:"0",max:"23",step:"1",type:"range"},null,544),[[d,e.filterParams.endHour,void 0,{number:!0}]]),it])]),ut,i("div",lt,[i("div",ft,[i("span",{onChange:r[13]||(r[13]=(...o)=>t.slider&&t.slider(...o))},[f(i("input",{"onUpdate:modelValue":r[11]||(r[11]=o=>e.filterParams.startMonth=o),ref:"inputStartMonth",type:"number",min:"1",max:"12"},null,512),[[d,e.filterParams.startMonth,void 0,{number:!0}]]),f(i("input",{"onUpdate:modelValue":r[12]||(r[12]=o=>e.filterParams.endMonth=o),ref:"inputEndMonth",type:"number",min:"1",max:"12"},null,512),[[d,e.filterParams.endMonth,void 0,{number:!0}]])],32),f(i("input",{onChange:r[14]||(r[14]=(...o)=>t.slider&&t.slider(...o)),"onUpdate:modelValue":r[15]||(r[15]=o=>e.filterParams.startMonth=o),ref:"inputStartMonth",min:"1",max:"12",step:"1",type:"range"},null,544),[[d,e.filterParams.startMonth,void 0,{number:!0}]]),f(i("input",{onChange:r[16]||(r[16]=(...o)=>t.slider&&t.slider(...o)),"onUpdate:modelValue":r[17]||(r[17]=o=>e.filterParams.endMonth=o),ref:"inputEndMonth",min:"1",max:"12",step:"1",type:"range"},null,544),[[d,e.filterParams.endMonth,void 0,{number:!0}]]),dt])]),e.error?(M(),w("p",mt,F(e.errorMessage),1)):W("",!0),i("button",{class:"mx-2 my-3 p-1 px-3 rounded-md border-2 text-center button-87",onClick:r[18]||(r[18]=(...o)=>a.emitButtonClick&&a.emitButtonClick(...o))}," Apply changes ")])])}const Nt=V(K,[["render",pt],["__scopeId","data-v-004a626e"]]);export{Nt as _,N as a,q as b,gt as c,Ct as d,wt as e,S as f,B as g,j as h,I as i,A as j,Pt as k,_ as l,vt as m,L as n,Dt as s,Mt as w,Ht as y};
