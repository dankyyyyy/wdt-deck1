import{_ as v}from"./LogoInverted.5939c69c.js";import{_ as x}from"./nuxt-link.891a4dd6.js";import{_ as A}from"./LocationCard.d3723006.js";import{_ as D}from"./WtgCard.8393a8cd.js";import{A as P}from"./AgGridVue.b108ccb3.js";import{u as k}from"./ChartStore.b77e04aa.js";import{a as d,c as p,e as f,b as i}from"./WindTurbineGeneratorStore.eb0d735d.js";import{_ as h,B as C,o as S,x as N,c as T,b as l,w as L,a as t,n as B,v as $,F as V}from"./entry.03847b27.js";import{_ as W}from"./SubmitButton.e22d1f2f.js";import{s as g}from"./globalErrorHandling.ddcb321a.js";import"./WeatherdataStore.c8d5cae7.js";const j={name:"AssetSummaryTable",components:{AgGridVue:P},setup(){const s=()=>{const e=d(),a=[];if(e.getSelectedAssets()!=null){const c=e.getSelectedAssets();for(let n=0;n<c.length;n++){const _=c[n],m=c[n].team,u={AssetName:_.name,TeamName:m.name,TeamSize:m.numberOfPersons};a.push(u)}return a}},o=k().assetSummaryTableLabels.map(e=>({headerName:e,field:e.replace(/ /g,""),width:165})),r=s();return{columnDefs:o,rowData:r}}};function E(s,o,r,e,a,c){const n=C("ag-grid-vue");return S(),N(n,{class:"ag-theme-alpine summary-table",columnDefs:e.columnDefs,rowData:e.rowData},null,8,["columnDefs","rowData"])}const F=h(j,[["render",E]]),G={name:"PresetSummary",data(){return{assets:d().getSelectedAssets(),location:p().getSelectedLocation(),wtg:f().getSelectedWtg(),preset:{name:"",assets:d().getSelectedAssets(),location:p().getSelectedLocation(),wtg:f().getSelectedWtg()}}},methods:{async createPreset(){await this.validatePreset(this.preset)},async isADupe(s){var o=!1;const r=await i().getAll();for(let e=0;e<r.length;e++)if(r[e].name===s.name){o=!0;break}return o},async validatePreset(s){await this.isADupe(s)?g("Name already taken, please select a different one."):s.name===""?g("Please select a name for your preset before proceeding."):(await i().post(s),i().setSelectedPreset(s),i().getSelectedPreset()!==null&&this.$router.push("/availability"))}}},I=t("div",{class:"heading-container"},[t("h1",{class:"generic-header"},"Preset Summary")],-1),R={"deck-frame-translucent-container":""},z={class:"deck-frame-translucent summary-layout"},M=t("div",{class:"generic-header-medium"},[t("label",{for:"namePrompt"},"Please give a name to your preset! ")],-1),O={class:"create-input"},U=t("label",{for:"name",class:"box-title justify-center"},"Name: ",-1),q={style:{display:"flex"}},H={class:"summary-table-container"};function J(s,o,r,e,a,c){const n=v,_=x,m=A,u=D,y=F,w=W;return S(),T(V,null,[l(_,{to:"/"},{default:L(()=>[l(n,{class:"w-full inline-block deck-logo"})]),_:1}),I,t("div",R,[t("div",z,[M,t("div",O,[U,B(t("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=b=>a.preset.name=b),class:"border-2 rounded-md text-center justify-center"},null,512),[[$,a.preset.name]])]),t("div",q,[l(m,{location:a.location},null,8,["location"]),l(u,{wtg:a.wtg},null,8,["wtg"])]),t("div",H,[l(y,{assets:a.assets,class:"summary-table"},null,8,["assets"])])])]),l(w,{onClick:c.createPreset},null,8,["onClick"])],64)}const re=h(G,[["render",J]]);export{re as default};
