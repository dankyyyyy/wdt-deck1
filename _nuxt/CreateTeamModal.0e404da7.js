import{u}from"./WindTurbineGeneratorStore.eb0d735d.js";import{s as r}from"./globalErrorHandling.ddcb321a.js";import{i as c}from"./chartUtils.2ab73b6e.js";import{_ as f,o as p,c as h,a as s,n as d,v as m}from"./entry.03847b27.js";const b={name:"CreateTeamModal",data(){return{team:{numberOfPersons:"",shiftPeriod:""}}},methods:{handleCancelClick(){this.$emit("hideModal")},async handleSaveClick(){await this.validateTeam(this.team)},async isADupe(t){var e=!1;const i=await u().getAll();for(let a=0;a<i.length;a++)if(i[a].name===t.name){e=!0;break}return e},async validateTeam(t){await this.isADupe(t)?r("Name already taken, please select a different one."):!c(t.numberOfPersons)||!c(t.shiftPeriod)?r("Please make sure all attributes except for name are numerical."):t.name===""||t.numberOfPersons===null||t.shiftPeriod===null?r("Please make sure all fields are filled in."):(await u().post(t),this.$emit("hideModal"))}}},_={class:"modal rounded-lg flex-col"},v=s("h3",{class:"font-semibold box-title"},"Team Creation",-1),x={class:"py-5 flex flex-col flex-wrap content-normal"},k={class:"create-input"},C=s("label",{for:"name"},"Name: ",-1),P={class:"create-input whitespace-nowrap"},w=s("label",{for:"numberOfPersons"},"Number of persons: ",-1),y={class:"create-input whitespace-nowrap"},M=s("label",{for:"shiftPeriod"},"Shift period: ",-1),O={class:"flex w-full justify-end"};function S(t,e,i,a,l,n){return p(),h("div",{class:"overlay",onClick:e[5]||(e[5]=(...o)=>t.hideModal&&t.hideModal(...o))},[s("div",_,[v,s("div",x,[s("div",k,[C,d(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>l.team.name=o),class:"border-2 rounded-md text-center"},null,512),[[m,l.team.name]])]),s("div",P,[w,d(s("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=o=>l.team.numberOfPersons=o),class:"border-2 rounded-sm text-center"},null,512),[[m,l.team.numberOfPersons]])]),s("div",y,[M,d(s("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=o=>l.team.shiftPeriod=o),class:"border-2 rounded-sm text-center"},null,512),[[m,l.team.shiftPeriod]])]),s("div",O,[s("button",{type:"submit",class:"border-2 rounded-md px-2",onClick:e[3]||(e[3]=(...o)=>n.handleCancelClick&&n.handleCancelClick(...o))}," Cancel "),s("button",{type:"submit",class:"rounded-md px-2 ml-2 dialog-button",onClick:e[4]||(e[4]=(...o)=>n.handleSaveClick&&n.handleSaveClick(...o))}," Save ")])])])])}const D=f(b,[["render",S]]);export{D as _};
