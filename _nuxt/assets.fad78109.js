import{_ as k}from"./LogoInverted.5939c69c.js";import{_ as F}from"./nuxt-link.891a4dd6.js";import{_ as E}from"./CreateTeamModal.0e404da7.js";import{u as H,a as b}from"./WindTurbineGeneratorStore.eb0d735d.js";import{s as g}from"./globalErrorHandling.ddcb321a.js";import{i as r}from"./chartUtils.2ab73b6e.js";import{_ as w,o as d,c as a,a as e,n as _,v as h,q as C,F as S,s as V,t as c,u as m,x as M,d as v,y as z,b as y,p as U,e as D,w as N}from"./entry.03847b27.js";import{_ as R}from"./SubmitButton.e22d1f2f.js";const P={name:"CreateAssetModal",data(){return{asset:{name:"",category:""},teams:[],isTeamModalVisible:!1}},async mounted(){this.teams=await H().getAll()},methods:{handleCancelClick(){this.$emit("hideModal")},async handleSaveClick(){await this.validateAsset(this.asset)},async isADupe(t){const s=await b().getAll();var n=!1;for(let p=0;p<s.length;p++)if(s[p].name===t.name){n=!0;break}return n},async validateAsset(t){await this.isADupe(t)?g("Name already taken, please select a different one."):t.name===""||t.windSpeedLimit===null||t.hs===null||t.dayRate===null||t.vesselSpeed===null||t.highEngineActivity===null||t.loitering===null||t.helicopterSpeed===null||t.cloudbase===null||t.visibility===null||t.operationalFuelConsumption===null||t.loiteringFuelConsumption===null||t.flightTime===null?g("Please make sure all fields are filled in."):t.category==="Vessel"&&(!r(t.windSpeedLimit)||!r(t.hs)||!r(t.dayRate)||!r(t.vesselSpeed)||!r(t.highEngineActivity)||!r(t.loitering)||!r(t.operationalFuelConsumption)||!r(t.loiteringFuelConsumption))?g("Please make sure all attributes except name are numerical."):t.category==="Helicopter"&&(!r(t.windSpeedLimit)||!r(t.hs)||!r(t.dayRate)||!r(t.helicopterSpeed)||!r(t.cloudbase)||!r(t.visibility)||!r(t.operationalFuelConsumption)||!r(t.flightTime))?g("Please make sure all attributes except name are numerical."):(await b().post(this.asset),this.$emit("hideModal"))},showTeamModal(){this.isTeamModalVisible=!0},hideTeamModal(){this.isTeamModalVisible=!1}}},I={class:"modal rounded-lg flex-col",style:{"max-height":"80%","overflow-y":"scroll","overflow-x":"hidden"}},B=e("h3",{class:"font-semibold box-title"},"Asset Creation",-1),j={class:"py-5 flex flex-col flex-wrap content-normal"},O={class:"create-input"},q=e("label",{for:"name"},"Name: ",-1),W={class:"create-input"},$=e("label",{for:"name"},"Category:",-1),G=e("option",{value:"Vessel"},"Vessel",-1),J=e("option",{value:"Helicopter"},"Helicopter",-1),K=[G,J],Q={class:"create-input"},X=e("label",{for:"name"},"Team:",-1),Y=e("option",{value:"",disabled:"",selected:""},"Team",-1),Z=["value"],ee={key:0},te={class:"create-input whitespace-nowrap"},se=e("label",{for:"windSpeedLimit"},"Wind Speed Limit: ",-1),oe=e("label",{for:"windSpeedLimit"}," m/s",-1),ie={class:"create-input whitespace-nowrap"},le=e("label",{for:"limit"},[v("H"),e("sub",null,"S"),v(" Limit: ")],-1),ne=e("label",{for:"limit"}," m",-1),de={class:"create-input whitespace-nowrap"},ae=e("label",{for:"dayRate"},"Day Rate: ",-1),ce=e("label",{for:"dayRate"}," €",-1),re={key:1},ue={class:"create-input whitespace-nowrap"},_e=e("label",{for:"vesselSpeed"},"Vessel Speed: ",-1),he=e("label",{for:"vesselSpeed"}," kt",-1),me={class:"create-input whitespace-nowrap"},pe=e("label",{for:"highEngineActivity"},"High Engine Activity: ",-1),be=e("label",{for:"highEngineActivity"}," h",-1),fe={class:"create-input whitespace-nowrap"},ye=e("label",{for:"highEngineActivity"},"Loitering: ",-1),ge=e("label",{for:"highEngineActivity"}," h",-1),ve={key:2},xe={class:"create-input"},Se=e("label",{for:"helicopterSpeed"},"Helicopter Speed: ",-1),we=e("label",{for:"helicopterSpeed"}," kt",-1),Ae={class:"create-input"},Ce=e("label",{for:"limit"},"Cloudbase: ",-1),ke=e("label",{for:"cloudbase"}," m",-1),Ve={class:"create-input"},Me=e("label",{for:"limit"},"Visibility: ",-1),Te=e("label",{for:"visibility"}," km",-1),Le={key:3},Fe={class:"create-input whitespace-nowrap"},Ee=e("label",{for:"highEngineActivity"},"Fuel Consumption: ",-1),He=e("label",{for:"highEngineActivity"}," l/h",-1),ze={key:4},Ue={class:"create-input whitespace-nowrap"},De=e("label",{for:"highEngineActivity"},"Fuel Consumption when Loitering: ",-1),Ne=e("label",{for:"highEngineActivity"}," l/h",-1),Re={key:5},Pe={class:"create-input whitespace-nowrap"},Ie=e("label",{for:"highEngineActivity"},"Flight Time (2 round trips): ",-1),Be=e("label",{for:"highEngineActivity"}," h",-1),je={class:"flex w-full justify-between"},Oe={class:"flex w-full justify-end"};function qe(t,s,n,p,o,u){const f=E;return d(),a("div",{class:"overlay",onClick:s[18]||(s[18]=(...i)=>t.hideModal&&t.hideModal(...i))},[e("div",I,[B,e("div",j,[e("div",O,[q,_(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=i=>o.asset.name=i),class:"border-2 rounded-md text-center"},null,512),[[h,o.asset.name]])]),e("div",W,[$,_(e("select",{name:"category","onUpdate:modelValue":s[1]||(s[1]=i=>o.asset.category=i),class:"border-2 rounded-md text-left"},K,512),[[C,o.asset.category]])]),e("div",Q,[X,_(e("select",{id:"team","onUpdate:modelValue":s[2]||(s[2]=i=>o.asset.team=i),class:"border-2 rounded-md text-left"},[Y,(d(!0),a(S,null,V(o.teams,(i,x)=>(d(),a("option",{key:x,value:i},c(i.name),9,Z))),128))],512),[[C,o.asset.team]])]),o.asset.category==="Vessel"||o.asset.category==="Helicopter"?(d(),a("div",ee,[e("div",te,[se,_(e("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=i=>o.asset.windSpeedLimit=i),class:"border-2 rounded-md text-center"},null,512),[[h,o.asset.windSpeedLimit]]),oe]),e("div",ie,[le,_(e("input",{type:"text","onUpdate:modelValue":s[4]||(s[4]=i=>o.asset.hs=i),class:"border-2 rounded-md text-center"},null,512),[[h,o.asset.hs]]),ne]),e("div",de,[ae,_(e("input",{type:"text","onUpdate:modelValue":s[5]||(s[5]=i=>o.asset.dayRate=i),class:"border-2 rounded-md text-center"},null,512),[[h,o.asset.dayRate]]),ce])])):m("",!0),o.asset.category==="Vessel"?(d(),a("div",re,[e("div",ue,[_e,_(e("input",{type:"text","onUpdate:modelValue":s[6]||(s[6]=i=>o.asset.vesselSpeed=i),class:"border-2 rounded-md text-center"},null,512),[[h,o.asset.vesselSpeed]]),he]),e("div",me,[pe,_(e("input",{type:"text","onUpdate:modelValue":s[7]||(s[7]=i=>o.asset.highEngineActivity=i),class:"border-2 rounded-md text-center"},null,512),[[h,o.asset.highEngineActivity]]),be]),e("div",fe,[ye,_(e("input",{type:"text","onUpdate:modelValue":s[8]||(s[8]=i=>o.asset.loitering=i),class:"border-2 rounded-md text-center"},null,512),[[h,o.asset.loitering]]),ge])])):o.asset.category==="Helicopter"?(d(),a("div",ve,[e("div",xe,[Se,_(e("input",{type:"text","onUpdate:modelValue":s[9]||(s[9]=i=>o.asset.helicopterSpeed=i),class:"border-2 rounded-md text-center"},null,512),[[h,o.asset.helicopterSpeed]]),we]),e("div",Ae,[Ce,_(e("input",{type:"text","onUpdate:modelValue":s[10]||(s[10]=i=>o.asset.cloudbase=i),class:"border-2 rounded-md text-center"},null,512),[[h,o.asset.cloudbase]]),ke]),e("div",Ve,[Me,_(e("input",{type:"text","onUpdate:modelValue":s[11]||(s[11]=i=>o.asset.visibility=i),class:"border-2 rounded-md text-center"},null,512),[[h,o.asset.visibility]]),Te])])):m("",!0),o.asset.category==="Vessel"||o.asset.category==="Helicopter"?(d(),a("div",Le,[e("div",Fe,[Ee,_(e("input",{type:"text","onUpdate:modelValue":s[12]||(s[12]=i=>o.asset.operationalFuelConsumption=i),class:"border-2 rounded-md text-center"},null,512),[[h,o.asset.operationalFuelConsumption]]),He])])):m("",!0),o.asset.category==="Vessel"?(d(),a("div",ze,[e("div",Ue,[De,_(e("input",{type:"text","onUpdate:modelValue":s[13]||(s[13]=i=>o.asset.loiteringFuelConsumption=i),class:"border-2 rounded-md text-center"},null,512),[[h,o.asset.loiteringFuelConsumption]]),Ne])])):o.asset.category==="Helicopter"?(d(),a("div",Re,[e("div",Pe,[Ie,_(e("input",{type:"text","onUpdate:modelValue":s[14]||(s[14]=i=>o.asset.flightTime=i),class:"border-2 rounded-md text-center"},null,512),[[h,o.asset.flightTime]]),Be])])):m("",!0)]),e("div",je,[e("button",{type:"submit",class:"border-2 rounded-md px-2",onClick:s[15]||(s[15]=(...i)=>u.showTeamModal&&u.showTeamModal(...i))},"Create a Team"),o.isTeamModalVisible?(d(),M(f,{key:0,onHideModal:u.hideTeamModal},null,8,["onHideModal"])):m("",!0),e("div",Oe,[e("button",{type:"submit",class:"border-2 rounded-md px-2",onClick:s[16]||(s[16]=(...i)=>u.handleCancelClick&&u.handleCancelClick(...i))}," Cancel "),e("button",{type:"submit",class:"rounded-md px-2 ml-2 dialog-button",onClick:s[17]||(s[17]=(...i)=>u.handleSaveClick&&u.handleSaveClick(...i))}," Save ")])])])])}const We=w(P,[["render",qe]]);const $e={name:"AssetCard",props:{asset:{type:Object,required:!0}},data(){return{isSelected:!1,isUpdateModalVisible:!1,isDeleteModalVisible:!1}},methods:{selectAsset(){const t=this.asset,s=b().getSelectedAssets();var n=!1;for(let p=0;p<s.length;p++)s[p]._id===t._id&&(n=!0);n?(this.isSelected=!1,this.$emit("asset-deselected",t)):(this.isSelected=!0,this.$emit("asset-selected",t))}}},l=t=>(U("data-v-a7638bd6"),t=t(),D(),t),Ge={class:"grid-container"},Je={class:"grid"},Ke={class:"box-content"},Qe={class:"box-title"},Xe={class:"customize-box-text"},Ye=l(()=>e("label",{for:"windSpeedLimit"},"Wind Speed Limit: ",-1)),Ze={class:"customize-box-text-type"},et=l(()=>e("hr",null,null,-1)),tt=l(()=>e("label",{for:"hs"},[v("H"),e("sub",null,"s"),v(" Limit:")],-1)),st={class:"customize-box-text-type"},ot=l(()=>e("hr",null,null,-1)),it=l(()=>e("label",{for:"dayRate"},"Day Rate: ",-1)),lt={class:"customize-box-text-type"},nt=l(()=>e("hr",null,null,-1)),dt={key:0},at=l(()=>e("label",{for:"vesselSpeed"},"Vessel Speed: ",-1)),ct={class:"customize-box-text-type"},rt=l(()=>e("hr",null,null,-1)),ut=l(()=>e("label",{for:"highEngineActivity"},"High Engine Activity: ",-1)),_t={class:"customize-box-text-type"},ht=l(()=>e("hr",null,null,-1)),mt=l(()=>e("label",{for:"loitering"},"Loitering: ",-1)),pt={class:"customize-box-text-type"},bt=l(()=>e("hr",null,null,-1)),ft={key:1},yt=l(()=>e("label",{for:"helicopterSpeed"},"Helicopter Speed: ",-1)),gt={class:"customize-box-text-type"},vt=l(()=>e("hr",null,null,-1)),xt=l(()=>e("label",{for:"cloudbase"},"Cloudbase: ",-1)),St={class:"customize-box-text-type"},wt=l(()=>e("hr",null,null,-1)),At=l(()=>e("label",{for:"visibility"},"Visibility: ",-1)),Ct={class:"customize-box-text-type"},kt=l(()=>e("hr",null,null,-1)),Vt=l(()=>e("label",{for:"operationalFuelConsumption"},"Fuel Consumption: ",-1)),Mt={class:"customize-box-text-type"},Tt=l(()=>e("hr",null,null,-1)),Lt={key:2},Ft=l(()=>e("label",{for:"loiteringFuelConsumption"},"Fuel Consumption when Loitering: ",-1)),Et={class:"customize-box-text-type"},Ht=l(()=>e("hr",null,null,-1)),zt={key:3},Ut=l(()=>e("label",{for:"flightTime"},"Flight Time (2 round trips): ",-1)),Dt={class:"customize-box-text-type"},Nt=l(()=>e("hr",null,null,-1)),Rt=l(()=>e("label",{for:"teamName"},"Team Name: ",-1)),Pt={class:"customize-box-text-type"},It=l(()=>e("hr",null,null,-1)),Bt=l(()=>e("label",{for:"numberOfPersons"},"Team Size: ",-1)),jt={class:"customize-box-text-type"},Ot=l(()=>e("hr",null,null,-1)),qt=l(()=>e("label",{for:"shiftPeriod"},"Shift Length: ",-1)),Wt={class:"customize-box-text-type"};function $t(t,s,n,p,o,u){const f=k;return d(),a("div",Ge,[e("div",Je,[e("div",{class:z(["card-box",{selected:o.isSelected}]),onClick:s[0]||(s[0]=(...i)=>u.selectAsset&&u.selectAsset(...i))},[e("div",Ke,[y(f,{class:"box-image inline-block align-middle w-full"}),e("h2",Qe,c(n.asset.name),1),e("div",Xe,[Ye,e("p",Ze,c(n.asset.windSpeedLimit)+"m/s",1),et,e("div",null,[tt,e("p",st,c(n.asset.hs)+"m",1),ot,it,e("p",lt,c(n.asset.dayRate)+"€",1),nt]),n.asset.category==="Vessel"?(d(),a("div",dt,[at,e("p",ct,c(n.asset.vesselSpeed)+"kt",1),rt,ut,e("p",_t,c(n.asset.highEngineActivity)+"h",1),ht,mt,e("p",pt,c(n.asset.loitering)+"h",1),bt])):m("",!0),n.asset.category==="Helicopter"?(d(),a("div",ft,[yt,e("p",gt,c(n.asset.helicopterSpeed)+"kt",1),vt,xt,e("p",St,c(n.asset.cloudbase)+"m",1),wt,At,e("p",Ct,c(n.asset.visibility)+"km",1),kt])):m("",!0),e("div",null,[Vt,e("p",Mt,c(n.asset.operationalFuelConsumption)+"l/h",1),Tt]),n.asset.category==="Vessel"?(d(),a("div",Lt,[Ft,e("p",Et,c(n.asset.loiteringFuelConsumption)+"l/h",1),Ht])):m("",!0),n.asset.category==="Helicopter"?(d(),a("div",zt,[Ut,e("p",Dt,c(n.asset.flightTime)+"h",1),Nt])):m("",!0),e("div",null,[Rt,e("p",Pt,c(n.asset.team.name),1),It]),e("div",null,[Bt,e("p",jt,c(n.asset.team.numberOfPersons),1),Ot]),e("div",null,[qt,e("p",Wt,c(n.asset.team.shiftPeriod)+"h",1)])])])],2)])])}const Gt=w($e,[["render",$t],["__scopeId","data-v-a7638bd6"]]),Jt={name:"AssetList",data(){return{assets:[],wtgs:[],isModalVisible:!1,loading:!1}},async mounted(){this.assets=await b().getAll(),this.assets.length==0||(this.loading=!1)},async updated(){this.assets=await b().getAll(),this.assets.length==0||(this.loading=!1)},methods:{showModal(){this.isModalVisible=!0},hideModal(){this.isModalVisible=!1},handleAssetSelected(t){b().addSelectedAsset(t)},handleAssetDeselected(t){b().removeSelectedAsset(t)},navigateToNextPage(){b().getSelectedAssets()!==null&&this.$router.push("/locations")}}},Kt=e("div",{class:"heading-container"},[e("h1",{class:"generic-header"},"Assets")],-1),Qt={"deck-frame-translucent-container":""},Xt={key:0,class:"grid deck-frame-translucent"};function Yt(t,s,n,p,o,u){const f=k,i=F,x=We,T=Gt,L=R;return d(),a(S,null,[y(i,{to:"/"},{default:N(()=>[y(f,{class:"inline-block align-middle w-full"})]),_:1}),Kt,o.isModalVisible?(d(),M(x,{key:0,onHideModal:u.hideModal},null,8,["onHideModal"])):m("",!0),e("div",Qt,[o.assets!==void 0?(d(),a("div",Xt,[(d(!0),a(S,null,V(o.assets,A=>(d(),a("div",{key:A.id,class:"p-5"},[y(T,{asset:A,onAssetSelected:u.handleAssetSelected,onAssetDeselected:u.handleAssetDeselected},null,8,["asset","onAssetSelected","onAssetDeselected"])]))),128))])):m("",!0)]),y(L,{onClick:u.navigateToNextPage},null,8,["onClick"])],64)}const ds=w(Jt,[["render",Yt]]);export{ds as default};
